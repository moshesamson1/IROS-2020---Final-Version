%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%2345678901234567890123456789012345678901234567890123456789012345678901234567890
%        1         2         3         4         5         6         7         8

\documentclass[letterpaper, 10 pt, conference]{ieeeconf}  % Comment this line out if you need a4paper

%\documentclass[a4paper, 10pt, conference]{ieeeconf}      % Use this line for a4 paper

\IEEEoverridecommandlockouts                              % This command is only needed if 
                                                          % you want to use the \thanks command

\overrideIEEEmargins                                      % Needed to meet printer requirements.

%In case you encounter the following error:
%Error 1010 The PDF file may be corrupt (unable to open PDF file) OR
%Error 1000 An error occurred while parsing a contents stream. Unable to analyze the PDF file.
%This is a known problem with pdfLaTeX conversion filter. The file cannot be opened with acrobat reader
%Please use one of the alternatives below to circumvent this error by uncommenting one or the other
%\pdfobjcompresslevel=0
%\pdfminorversion=4

% See the \addtolength command later in the file to balance the column lengths
% on the last page of the document

% The following packages can be found on http:\\www.ctan.org
%\usepackage{graphics} % for pdf, bitmapped graphics files
% \usepackage{epsfig} % for postscript graphics files
%\usepackage{mathptmx} % assumes new font selection scheme installed
%\usepackage{times} % assumes new font selection scheme installed
%\usepackage{amsmath} % assumes amsmath package installed
%\usepackage{amssymb}  % assumes amsmath package installed

% \pdfminorversion

% % changed area 
\let\proof\relax
\let\endproof\relax

\usepackage{tcolorbox}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{amsmath,amssymb,amsthm, amsfonts}
\usepackage{breqn}
\usepackage{seqsplit}
\usepackage{relsize}
\usepackage{mathtools}
\usepackage{epsfig}
\usepackage{color}
\usepackage{mathtools}
\usepackage{tikz}
\usepackage{relsize}
\usepackage{float}
\usepackage{dsfont}
\usepackage{hyperref}
\usepackage[nameinlink]{cleveref}
\newcommand{\bigqm}[1][1]{\text{\larger[#1]{\textbf{?}}}}
\usepackage{tikz,fullpage}
\usetikzlibrary{arrows, petri, topaths}
\usepackage{tkz-berge}
% \usepackage[position=top]{subfig}
\usepackage{verbatim}
\usepackage{pgf, pgfplots, pgfplotstable}
\usepackage{tikz}
\usepackage{fancyhdr, setspace, color, soul}
\usepackage{geometry,csquotes, doi}
% \usepackage{ucs}
\usepackage{breqn}
\usepackage{mdframed}
\usepackage{dsfont}
\usepackage{tabularx}
\usepackage{xcolor}
\usepackage{xspace}
% \usepackage{caption}
\usepackage{multirow}
\usepackage{xfrac}
% \usepackage{subfig}
\usepackage{subcaption}
\usepackage{cleveref}
\usetikzlibrary{arrows, automata, backgrounds,snakes}

% define MACROS
\newcommand{\len}{15}
\newcommand{\LPart}{0.4}
\newcommand{\dgreen}{black!60!green}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\newtheorem{theorem}{Theorem}
% \newtheorem{corollary}{Corollary}[theorem]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem*{remark}{Remark}

% \newtheorem{thm}{Theorem}[section]
% \newtheorem{lem}[thm]{Lemma}
% \newtheorem{prop}[thm]{Proposition}
% \newtheorem{cor}{Corollary}
% \newtheorem{conj}{Conjecture}[section]
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
% \newtheorem{exmp}{Example}[section]
% \newtheorem{rem}{Remark}


\newcounter{casenum}
\newenvironment{caseof}{\setcounter{casenum}{1}}{\vskip.5\baselineskip}
\newcommand{\case}[2]{\vskip.5\baselineskip\par\noindent {\bfseries Ca se \arabic{casenum}:} #1\\#2\addtocounter{casenum}{1}}
%\newcommand\rob{\ensuremath{r}\xspace}
%\newcommand\opp{\ensuremath{o}\xspace}
\newcommand{\rob}{{{\sf R}}\xspace}
\newcommand{\opp}{{{\sf O}}\xspace}
\newcommand{\w}{{{\texttt W}}\xspace}
\newcommand{\fcc}{{{\sf{FCC}}}\xspace}
\newcommand{\sg}{{\sf{SG}_{\rob}}}
\newcommand{\IM}{{{\sf{IM}}}\xspace}
\newcommand{\itp}{{{\textsf{ITP}}}\xspace}
\newcommand{\crs}{{{\sf{CRS}}}\xspace}
\newcommand{\lcp}{{{\sf{LCP}}}\xspace}
\newcommand{\ltr}{{{\sf{LTR}}}\xspace}
% \newcounter{\lcp}{\ensuremath{LCP}\xspace}
\newcommand{\coos}{{{\sf{COS}}}\xspace}
\newcommand{\gn}{\ensuremath{GN}\xspace}
\newcommand{\gf}{\ensuremath{GF}\xspace}
\newcommand{\go}{\ensuremath{GO}\xspace}

%% Code chunk for statistics starts here...
\newcommand{\calcrowmean}{
    \def\rowmean{0}
    \pgfmathparse{\pgfkeysvalueof{/pgfplots/table/summary statistics/end index}-\pgfkeysvalueof{/pgfplots/table/summary statistics/start index}+1}
    \edef\numberofcols{\pgfmathresult}
            % ... loop over all columns, summing up the elements
    \pgfplotsforeachungrouped \col in {\pgfkeysvalueof{/pgfplots/table/summary statistics/start index},...,\pgfkeysvalueof{/pgfplots/table/summary statistics/end index}}{
        \pgfmathparse{\rowmean+\thisrowno{\col}/\numberofcols}
        \edef\rowmean{\pgfmathresult}
    }
}
\newcommand{\calcstddev}{
    \def\rowstddev{0}
    \calcrowmean
    \pgfplotsforeachungrouped \col in {\pgfkeysvalueof{/pgfplots/table/summary statistics/start index},...,\pgfkeysvalueof{/pgfplots/table/summary statistics/end index}}{
        \pgfmathparse{\rowstddev+(\thisrowno{\col}-\rowmean)^2/(\numberofcols-1)}
        \edef\rowstddev{\pgfmathresult}
    }
    \pgfmathparse{sqrt(\rowstddev)}
}
\newcommand{\calcstderror}{
    \calcrowmean
    \calcstddev
    \pgfmathparse{sqrt(\rowstddev)/sqrt(\numberofcols)}
}

\pgfplotstableset{
    summary statistics/start index/.initial=1,
    summary statistics/end index/.initial=4,
    create col/mean/.style={
        /pgfplots/table/create col/assign/.code={% In each row ... 
            \calcrowmean
            \pgfkeyslet{/pgfplots/table/create col/next content}\rowmean
        }
    },
    create col/standard deviation/.style={
        /pgfplots/table/create col/assign/.code={% In each row ... 
            \calcstddev
            \pgfkeyslet{/pgfplots/table/create col/next content}\pgfmathresult
        }
    },
    create col/standard error/.style={
        create col/assign/.code={% In each row ... 
            \calcstderror
            \pgfkeyslet{/pgfplots/table/create col/next content}\pgfmathresult
        }
    }
}



\captionsetup[subfigure]{subrefformat=simple,labelformat=simple}
\renewcommand\thesubfigure{(\alph{subfigure})}

\DeclarePairedDelimiter\abs{\lvert}{\rvert}%
\DeclareMathOperator*{\argmax}{arg\,max} %
\DeclareMathOperator*{\argmin}{arg\,min} %Jan Hlavacek
\allowdisplaybreaks


% \def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;}
% \def\uncheckmark{$\mathbin{\tikz [x=1.4ex,y=1.4ex,line width=.2ex] \draw (0,0) -- (1,1) (0,1) -- (1,0);}$}
% \newcommand{\crss}{$\mathbin{\tikz [x=1.4ex,y=1.4ex,line width=.2ex, red] \draw (0,0) -- (1,1) (0,1) -- (1,0);}$}%

% \renewcommand{\qedsymbol}{$\blacksquare$}

\title{\LARGE \bf
Competitive  Coverage:  (Full)  Information  as  a  Game  Changer}


\author{Moshe N. Samson$^{1}$ and Noa Agmon$^{2}$% <-this % stops a space
%\thanks{*This work was not supported by any organization}% <-this % stops a space
\thanks{$^{1}$Moshe N. Samson is with the Computer Science Department,
        Bar-Ilan University, Ramat Gan 5290002, Israel
        {\tt\small samson.moshe@gmail.com}}%
\thanks{$^{2}$Noa Agmon is with the Computer Science Department, Bar-Ilan University, Ramat Gan 5290002, Israel
        {\tt\small agmon@cs.biu.ac.il}}%
}


\begin{document}

\maketitle
\thispagestyle{empty}
\pagestyle{empty}

\begin{abstract}
\input{SharedParts/abstract.tex}
\end{abstract}

\section{INTRODUCTION}
\input{SharedParts/introduction.tex}

\section{Background and Related Work}
\input{SharedParts/related_work.tex}

\section{Competitive Coverage: Definition}
\input{SharedParts/problem_definition.tex}

%We consider different information models: either \rob is given, or not, the initial location of \opp, $i_\opp$, and its strategy, $S_\opp$. Then, assuming a basic behavior, where only \rob is aware of \opp's existence ($\IM_{\rob}=\emptyset$), and it must decide its strategy before the game begins, we aim at finding the best strategy $S_\rob$ for \rob, given the information model. 
%In this paper we consider the asymmetric case in which only \rob is aware of \opp. 
We examine the competitive coverage problem with %optimal strategy for \rob  %Hence, we aim at determining the optimal strategy $S_\rob$ for \rob, based on 
the following information models:%, maximizing $\fcc_{rob}$.
%We divide our research into 4 different information models:
\begin{enumerate}
\item \textbf{Full Information} - $\IM_{\rob}=\lbrace S_{\opp},i_{\opp}\rbrace$
\item \textbf{Partial Information} - $\IM_{\rob}=\lbrace S_{\emptyset},i_{\opp}\rbrace$
\item \textbf{Partial Information} - $\IM_{\rob}=\lbrace S_{\opp},\w_{\emptyset}\rbrace$
\item \textbf{Zero Information} - $\IM_{\rob}=\lbrace S_{\emptyset},\w_{\emptyset}\rbrace$
\end{enumerate}
%For each of these models, we would like to know what is the best strategy for \rob to play, maximizing $\fcc_\rob$.

\section{Motivation}
Consider the following real-world scenario:
Two robots that are looking for oil over international waters, where the first one to discover it gets the rights of mining it. In this case, even though each side wants to cover the whole area as fast as possible, it is way more important to discover {\em first} as much of the area as possible.

In general, any case where there are scattered goods over an area in unknown locations, where the objective is to discover first as many of the goods as possible, is relevant to our case. \Cref{theorems: motivation} connects the $\fcc$ measure to the expected number of collected goods in this scenario.% we provide proof for the optimality of the $\fcc$ measurement in this case.

\begin{theorem}\label{theorems: motivation}
In a world $\w$ with unknown number of scattered items in unknown locations, and the probability for an item to exist in a cell is uniform throughout $\w$. Given two robots \rob and \opp that are trying to collect the same items, then %in the \emph{asymmetric} case, 
\rob maximizing its $\fcc$ is equivalent to maximizing the expected number of collected items. %before \opp.
\end{theorem}
\begin{proof}[Proof of \Cref{theorems: motivation}]
%Let us start with some notations; 
Let $g$ be and number of scattered items in $\w$, where $g_i$ is item number $i$, and let $c(g_i)\in\w$ be the cell containing $g_i$.
The expected number of items collected by $\rob$ (over the locations of the items), denoted by $\sg$, is defined as:
\begin{dmath*}[compact] 
    \mathbb{E}\left[\sg\right]=\mathbb{E}\left[\sum_{i=1}^{g}{\mathds{1}\left[\rob\text{ visits } c\left(g_i\right)\text{ before }\opp \right]}\right]
    = \sum_{i=1}^{g}{\mathbb{E}\left[\mathds{1}\left[\rob\text{ visits } c\left(g_i\right)\text{ before }\opp\right]\right]} = \sum_{i=1}^{g}{P\left(\rob\text{ visits } c\left(g_i\right)\text{ before }\opp\right)}
\end{dmath*}
where $\mathds{1}$ is the boolean version heaviside function \cite{weisstein2002heaviside}.
Since the probability for an item to exist in a cell is uniform throughout $\w$, that is, \[\mathbb{E}\left[c\left(g_i\right)\right]=\mathbb{E}\left[c\left(g_j\right)\right] \,\,\forall i,j\in\left[1,g\right]\] we get that:
\begin{dmath*}[compact]
\max\left\{\mathbb{E}\left[\sg\right]\right\}=\max\left\{\sum_{i=1}^{g}{P\left(\rob\text{ visits } c\left(g_i\right)\text{ before }\opp \right)}\right\}
=\max\left\{\frac{1}{\abs*{\w}}\sum_{j=1}^{\abs*{\w}}{\mathds{1}\left[\rob \text{ visits } c_j \text{ before } \opp\right]}\right\}=\max\left\{\sum_{j=1}^{\abs*{\w}}{\mathds{1}\left[\rob \text{ visits } c_j \text{ before } \opp\right]}\right\}=\max\left\{\fcc_{\rob}\right\}
\end{dmath*}
Which concludes our proof.
\end{proof}


\section{Full Information}
In this case robot $\rob$ has full information about robot $\opp$'s plans, that is, $\IM_{\rob}=\lbrace S_{\opp},i_{\opp}\rbrace$. We show that if $\rob$ simply travels as quickly as possible to the first location in $\opp$'s path and precede it, $\rob$  maximizes its $\fcc$. This behavior is depicted in Algorithm \itp (\Cref{algorithms: Intercept-then-Precede}). 

\begin{definition}[Interception-Point]
The {\em Interception-Point between $S_{\opp}$ and $i_{\rob}$} is the first cell $c_j\in S_{\opp}$ that the time it takes \rob to reach $c_j$ is lower than the time it takes $\opp$ to reach it. 
The method for finding Interception-Point is shown in \Cref{algorithms: interception-point}. 
Notice we used Dijkstra($i_\rob$,$c_j$)\cite{dijkstra1959note} to compute the distance between cells in the graph, which means \itp should work with obstacles too.
\end{definition}
\begin{algorithm}
    \begin{algorithmic}
        \REQUIRE $i_\rob$
        \REQUIRE  $S_{\opp}=\left\{c_1^{\opp},c_2^{\opp},...,c_N^{\opp}\right\}$
        \FOR{$j\in \left[1,N\right]$}
            \IF {Dijkstra $(i_\rob,c_j)$ $<j$}
                \RETURN $j$
            \ENDIF
        \ENDFOR
    \end{algorithmic}
\caption{Finding Interception-Point}\label{algorithms: interception-point}
\end{algorithm}

\begin{algorithm}
\begin{algorithmic}
    \REQUIRE $i_\rob$
    \REQUIRE $S_{\opp}=\left\{c_1^{\opp},c_2^{\opp},...,c_N^{\opp}\right\}$
	\STATE $k \leftarrow \Cref{algorithms: interception-point}(i_\rob)$
    \STATE GoTo $c^{\opp}_{k}$
    \FOR{$j\in \left[k+1,N\right]$}
        \STATE GoTo $c^{\opp}_j$
    \ENDFOR
\end{algorithmic}
\caption{Intercept Then Precede (\itp)\label{algorithms: Intercept-then-Precede}}
\end{algorithm}

In \Cref{theorems: itp optimality expected fcc} we prove the optimality of \itp in the full information model, and show its expected \fcc. % we prove the expected $\fcc$ \itp yields, thus providing an upper limit to all coverage algorithms in this scenario.
In order to prove the expected \fcc, we first prove the following supporting lemma.
\begin{lemma}\label{lemmas:ExpectedDistanceTwoCellsRectangular}
The expected distance between two cells selected uniformly at random on a rectangular grid of size $m\times n$ is \[ \frac{m^2-1}{3m}+\frac{n^2-1}{3n}\]
\end{lemma}
\begin{proof}[Proof of \Cref{lemmas:ExpectedDistanceTwoCellsRectangular}]
Let $X_1,Y_1,X_2,Y_2$ be random variables, indicating the coordinates for cell $C_1=\lbrace X_1, Y_1 \rbrace$ and  cell $C_2=\lbrace X_2, Y_2 \rbrace$. $X_1,X_2$ can fall anywhere in the range $\left[1\ldots m\right]$, where $Y_1,Y_2$ can fall anywhere in the range $\left[1\ldots n\right]$.
The expected distance between two cell is:
\[\mathbb{E}\left[\abs*{C_2-C_1}\right]=\mathbb{E}\left[\abs*{X_2-X_1}\right]+\mathbb{E}\left[\abs*{Y_2-Y_1}\right]\]

The expression $\mathbb{E}\left[\abs*{X_1-X_2}\right]$ is computed in \Cref{equations: 123}. 
The expression $\mathbb{E}\left[\abs*{Y_1-Y_2}\right]$ is computed similarly in the range $[1,n]$, thus adding the two expression concludes the proof.

\begin{multline}
\mathbb{E}\left[\abs*{X_1-X_2}\right]=
\sum_{x_1=1}^{m}\sum_{x_2=1}^{m}{\frac{\abs*{x_1-x_2}}{m^2}} =\\
\sum_{x_1=1}^{m}\sum_{x_2=1}^{x_1}\frac{x_1-x_2}{m^2}+\sum_{x_1=1}^{m}\sum_{x_2=x_1+1}^{m}\frac{x_2-x_1}{m^2}=\\
% \frac{1}{m^2}\cdot
% \left(\sum_{x_1=1}^{m}\sum_{x_2=1}^{x_1}\left(x_1-x_2\right)+\sum_{x_1=1}^{m}\sum_{x_2+x_1+1}^{m}{x_2-x_1}\right)=\\
% \frac{1}{m^2}\left(\sum_{x_1=1}^{m}{\left(x_1^2-\sum_{x_2=1}^{m}{x_2}\right)}\right)+
% \frac{1}{m^2}\left(\sum_{x_1=1}^{m}\left(\sum_{x_2=x_1+1}^{m}{x_2}-\left(m-x_1\right)\cdot x_1\right)\right)=
\frac{\sum_{x_1=1}^{m}{\left(x_1^2-\frac{x_1\left(x_1+1\right)}{2} \right)}}{m^2}+\\
\frac{\sum_{x_1=1}^{m}\frac{1}{2} \left(m-x_1\right)\left(m+x_1+1)-\left(m-x_1\right)\cdot x_1\right)}{m^2}=\\
\frac{\sum_{x_1=1}^{m}{\left(x_1^2-\left(1+m\right)x_1+\frac{1}{2}m^2+\frac{1}{2}m\right)}}{m^2}=\\
\frac{m\left(\frac{1}{2}m^2+\frac{1}{2}m\right)+\sum_{x_1=1}^{m}{\left(x_1^2-\left(1+m\right)x_1\right)}}{m^2}=\\
\frac{m^2-1}{3m}
\label{equations: 123}    
\end{multline}

% \begin{figure}
%     \centering
%     \begin{dmath}[compact]
% \mathbb{E}\left[\abs*{X_1-X_2}\right] =
% \sum_{x_1=1}^{m}\sum_{x_2=1}^{m}{\frac{\abs*{x_1-x_2}}{m^2}} =
% \sum_{x_1=1}^{m}\sum_{x_2=1}^{x_1}\frac{x_1-x_2}{m^2}+\sum_{x_1=1}^{m}\sum_{x_2=x_1+1}^{m}\frac{x_2-x_1}{m^2}
% % \frac{1}{m^2}\left(\sum_{x_1=1}^{m}{\left(x_1^2-\sum_{x_2=1}^{m}{x_2}\right)}\right)+
% % \frac{1}{m^2}\left(\sum_{x_1=1}^{m}\left(\sum_{x_2=x_1+1}^{m}{x_2}-\left(m-x_1\right)\cdot x_1\right)\right)=
% \frac{1}{m^2}\left(\sum_{x_1=1}^{m}{\left(x_1^2-\frac{x_1\left(x_1+1\right)}{2} \right)}\right)+
% \frac{1}{m^2}\sum_{x_1=1}^{m}\left(\frac{1}{2}\cdot \left(m-x_1\right)\left(m+x_1+1)-\left(m-x_1\right)\cdot x_1\right)\right)=
% \frac{1}{m^2}\sum_{x_1=1}^{m}{\left(x_1^2-\left(1+m\right)x_1+\frac{1}{2}m^2+\frac{1}{2}m\right)}=
% \frac{m\left(\frac{1}{2}m^2+\frac{1}{2}m\right)+\sum_{x_1=1}^{m}{\left(x_1^2-\left(1+m\right)x_1\right)}}{m^2}=\frac{\left(m^2-1\right)}{3m}
% \label{equations: 123}
% \end{dmath}
% \end{figure}

\end{proof}


\begin{theorem}\label{theorems: itp optimality expected fcc}
In the full knowledge asymmetric competitive coverage problem on an obstacle-free grid, Algorithm \itp optimizes $\mathbb{E}\left[\fcc_{\rob}\right]$, and in a grid of size $m\times n$ yields
\[\mathbb{E}[\fcc] = m\cdot n-\frac{m^2-1}{3m}-\frac{n^2-1}{3n}\]


\end{theorem}

\begin{proof} [Proof of \Cref{theorems: itp optimality expected fcc}]
%We start by stating and proving %\Cref{lemmas:ExpectedDistanceTwoCellsRectangular}.
The \fcc equals the number of cells robot \rob visits before robot \opp. In a world of size $m \times n$ this equals the size of the world ($m\cdot n$) minus the time it takes \rob to reach the interception point of \opp's coverage path. Therefore the {\em expected} \fcc is $mn - \mathbb{E}\left[\abs*{C_2-C_1}\right]$. Following \Cref{lemmas:ExpectedDistanceTwoCellsRectangular}, this equals 
\[\mathbb{E}\left[\fcc\right]=%m\cdot n-\mathbb{E}\left[\abs*{C_2-C_1}\right]=
n\cdot m - \frac{m^2-1}{3m} - \frac{n^2-1}{3n}\]
We are now left to prove \itp's optimality.

Remember that \opp is said to be optimal, which means it does as less steps as it can, and in our case, it does exactly $\abs*{w}$ steps.
In each step, \opp is visiting a new cell.
If it is the first to be there, it 'gains' the cell. 
Therefore, each step that \rob is doing something else other than cover a new cell, \opp is gaining a new cell. But, after interception, since \rob is covering from that point using $S_\opp$, every step \rob is taking is a guaranteed gain for \rob.

So, to minimize the amount of cells that \opp is visiting before \rob we intercept it (gaining steps along the way). From that point, by covering \w using $S_\opp$, \rob maximizes its \fcc. We just described \itp.
\end{proof}

\section{Zero Information}
In the zero-information case, \rob knows neither $i_\opp$ nor $S_\opp$. In fact, in this information model, \rob knows about \opp only that it exists.

Let us introduce the \textbf{C}hoose-\textbf{R}andom-\textbf{S}trategy procedure (\crs), that chooses an optimal coverage path $S_\rob\in\mathcal{S}$ at random. In \Cref{theorems: crs optimality expected fcc} we prove the optimality of \crs, and its resulting $\mathbb{E}[\fcc]$. It follows that, in fact, the knowledge that an opponents exists in the world does not grant \rob any advantage.

\begin{theorem} \label{theorems: crs optimality expected fcc}
In the zero-knowledge asymmetric competitive coverage problem on an obstacle-free grid, Algorithm \crs maximizes $\mathbb{E}\left[\fcc\right]$, and on a grid of size $m\times n$, \crs yields  \[\mathbb{E}[\fcc_\rob\mid S_\rob=\crs]=\frac{m\times n +1}{2}\]
\end{theorem}
\begin{proof}[Proof of \Cref{theorems: crs optimality expected fcc}]
Let us first introduce the notion of covering-time:
\begin{definition}[Covering-Time $CT_\rob(c_i)$]
The covering time of the cell $c_i$ by \rob is the time it takes \rob to reach cell $c_i$ for the first time. More formally, given $S_{\rob}=\left\{c_1^{\rob},c_2^{\rob},\ldots,c_N^{\rob}\right\}$, $CT_\rob(c_i)$ is the first index $j$ s.t. $c_j^{\rob}=c_i$.
\end{definition}
Notice the following: a cell $c_i$ is 'gained by \rob' if and only if $CT_{\rob}(c_i) < CT_{\opp}(c_i)$, which means that \rob visits $c_i$ before \opp. Let $\mathds{1}[x]$ be the unity function, where $\mathds{1}[x]=1$ if and only if x is true, $\mathds{1}[x]=0$ otherwise. 
One can re-write the expression for \rob's gain using the $CT$ property:
\begin{dmath}
\mathbb{E}[\fcc]=\mathbb{E}\left[\sum_{i=1}^{m\times n}{\mathds{1}\left[CT_\opp\left(c_i\right)\geq {CT}_{\rob}(c_i)\right]}\right]=\sum_{i=1}^{m\times n}{\mathbb{E}\left[\mathds{1}\left[{CT}_{\opp}(c_i)\geq {CT}_{\rob}(c_i)\right]\right]}
\label{equations: fcc to summation}
\end{dmath}
To show that $\Cref{equations: fcc to summation}=\frac{m\times n+1}{2}$, we prove that $\mathbb{E}\left[\mathds{1}\left[{CT}_{\opp}(c_i)\geq {CT}_{\rob}(c_i)\right]\right]=\frac{1}{2}$. 
Indeed:
\begin{dmath}[compact]
\mathbb{E}\left[\mathds{1}\left[{CT}_{\opp}(c_i)\geq {CT}_{\rob}(c_i)\right]\right]={P\left({CT}_{\opp}(c_i)\geq {CT}_{\rob}(c_i)\right)}=\frac{1}{2}
\label{equations: expected to probability}
\end{dmath}
where the first equality can be easily proved, and the second is because when averaging over $i_\opp$ and $S_\opp$,  $P\left({CT}_{\opp}(c_i)\right) = P\left({CT}_{\rob}(c_i)\right)=\frac{1}{m\times n}$, and since they are independent of each other, both can be considered as i.i.d variables, uniformly distributed over $[1,m\times n]$, and the probability that one is greater than the other (or, \Cref{equations: expected to probability}) is exactly $\frac{1}{2}$.
Using \Cref{equations: fcc to summation} and \Cref{equations: expected to probability} we get:
\begin{dmath*}[compact]
\mathbb{E}[\fcc]=\sum_{i=1}^{m\times n}{\underbrace{\mathbb{E}\left[\mathds{1}\left[CT_{\rob}\left(c_i\right)\geq i\right]\right]}_{0.5}}=\frac{m\times n+1}{2}
\end{dmath*}
\end{proof}

\section{Only Strategy Known} 

In this case, where \rob knows $S_\opp$, but not $i_\opp$, we examine whether \rob can achieve anything better than playing \crs, given that is is given more information: Unfortunately, as stated in \Cref{theorems: 2d max fcc unknown io}, it cannot, and the best $\mathbb{E}\left[\fcc\right]$ \rob can achieve is random-like.
This result is surprising: the knowledge about $S_\opp$ is irrelevant to \rob, and it does not help achieving anything better than random-like results. That is, even though \rob has more information than in the zero-knowledge case, still no better results are achievable.

\begin{theorem}\label{theorems: 2d max fcc unknown io}
When $\IM_\rob=\lbrace S_\opp , i_\emptyset \rbrace$, then 
\[\max_{S_\rob} \lbrace \mathbb{E}_{i_\opp}[\fcc_\rob]\rbrace=\mathbb{E}_{i_\opp,S_\rob}[\fcc_\rob]=\frac{N+1}{2}\]
\end{theorem}

\begin{proof}[Proof of \Cref{theorems: 2d max fcc unknown io}]
Since $S_{\rob}$ and $S_{\opp}$ are optimal-cyclic-coverage strategies, and since we assumed $\w$ is an obstacles-free rectangular grid, both $S_{\rob}$ and $S_\opp$ are actually Hamiltonian cycles, consisted of all the cells in $\w:c_0,...,c_{N-1}$; The relative place a cell $c_i$ is actually  ${CT}_{\rob}(c_i)$. 

Note that each starting position $i_r$ determines the covering time of all the cells $c_0,...,c_{N-1}$; Since we assume the strategy is known beforehand, then, for \opp, the covering time is set after $i_\opp$ is known, and changing it changes for all the cells their respective covering time. That is, $CT\left(c_i\right)$ directly depends on $i_\opp$ for all $c_i\in\w$, and $CT_{\opp}(c_i)\in [0,N-1]$.

Similar to \Cref{equations: fcc to summation}, one can write the $\fcc$ of a fixed problem (with all its variables known) $\fcc(\w,S_{\rob},S_{\opp},i_r,i_\opp)$ as $\# \lbrace CT_{\rob}(c_i) \le CT_{\opp}(c_i)\rbrace$. Let $\mathbb{E}_{x}(\fcc)$ be the expected $\fcc$ where the randomness is taken over the variable $x$. We therefore understand the following equation:
\[\mathbb{E}_{i_\opp}\left[\fcc\right]=
\frac{1}{N}\sum_{i_\opp\in \w}{\sum_{c_i\in \w}{\mathds{1}\left[CT_{\rob}(c_i) \le CT_{\opp}(c_i)\right]}}\]
If we change the order of summation, we can use what we know about ranging over the initial position and get:
\begin{dmath*}[compact]
\mathbb{E}_{i_\opp}\left[\fcc\right]=
\frac{1}{N}{\sum_{\substack{i_\opp\in \w \\c_i\in \w}}{\mathds{1}\left[CT_{\rob}(c_i) \le CT_{\opp}(c_i)\right]}}=
% \frac{1}{N}\sum_{c_i\in \w}{\sum_{i_\opp\in \w}{\mathds{1}\left[CT_{S_{\rob},i_r}(c_i) \le CT_{S_{\opp},i_\opp}(c_i)\right]}}=
\frac{1}{N}\sum_{c_i\in \w}{\# \lbrace CT_{\rob}(c_i) \le CT_{\opp}(c_i)\rbrace} \underset{(\star)}{=} 
\frac{1}{N}\sum_{c_i\in \w}{N-CT_{\rob}(c_i)}=
% \frac{1}{N}(1+2+\ldots+N)
\frac{N+1}{2}
\end{dmath*}
where ($\star$) is because $CT_{\rob}(c_i)$ is not dependent on $i_{\opp}$ (consider as constant), and the value of $CT_{\opp}(c_i)$ ranges from $1$ to $N$. 
Combining the two, we get that there are exactly $N-CT_{\rob}(c_i)$ different cases where $CT_{\rob}(c_i) \leq CT_{\opp}(c_i)$.

\end{proof}

\section{Only Initial Position Known}
In this information model, where $i_{\opp}$ is known but $S_{\opp}$ is not, we present a heuristic strategy for coverage, \ltr (Longest To Reach), and demonstrate empirically its superiority over other strategies in terms of maximizing $\fcc$ for \rob. 
The optimality proof of \ltr is left to future work.

\subsection{The \ltr Algorithm}
The idea behind the \ltr strategy (\Cref{algorithms: Longest-To-Reach}) is that for \rob to maximizes its expected \fcc (over different \opp's strategies) it should cover areas with lower probability that \opp already visited, instead of areas with high such probability. Such covering strategy $S^{\star}$ is the result of \Cref{equations: TPS}.

%, finding such strategy is not always an easy task. In \ltr we use a heuristic for that, as shown in \Cref{algorithms: Longest-To-Reach}. 
To reach all the cells, we run BFS from $i_\opp$, giving each cell a LEVEL value of how much recursive calls were created to reach that cell.
After all the cells are set with LEVEL value, \rob tries to cover groups of cells, from high to low. %each with a larger LEVEL value.
\begin{equation}
    S^{\star}=
    \argmin_{S=\left\{c_1,c_2,...,c_k\right\}} \sum_{i=1}^{k}{P\left[CT_{\opp}\left(c_i\right)<i\right]}
    \label{equations: TPS}
\end{equation}
% Also important to note that $TPS(c)$ needs $i_\opp$ to compute the inner probabilities. 
{\small{
\begin{algorithm}
\begin{algorithmic}
    \REQUIRE $i_\opp$
    
   \STATE set STATUS=READY for each cell in \w
   \STATE set $i_\opp.\text{STATUS}=\text{WAITING}$
   \STATE set $i_\opp.\textsf{LEVEL}=1$
   \STATE Enqueue $i_\opp$
   \WHILE{Queue not empty}
        \STATE $c\leftarrow$ Dequeue cell
        \STATE set $c.\text{STATUS}=\text{PROCESSED}$
        \STATE let $maxLevel := 1$
        \FORALL{$c'\in c.\text{NEIGHBORS}$ }
            \IF {$c'.\text{STATUS}=\text{READY}$}
                \STATE set $c'.\text{STATUS}=\text{WAITING}$
                \STATE set $c'.\textsf{LEVEL}=c.\textsf{LEVEL}+1$
                \STATE $maxLevel := c'.\textsf{LEVEL}$
                \STATE Enqueue $c'$
            \ENDIF
        \ENDFOR
    \ENDWHILE
   
    \STATE $v=maxLevel$
    \WHILE{$\exists c\in \w$ s.t. $c.\text{LEVEL}=v$}
        \STATE cover all cells with $\text{LEVEL}=v$
        \STATE $v=v-1$
    \ENDWHILE
    
    % \STATE $\overline{i_{\opp}} \leftarrow$ farthest corner from $i_\opp$
    % \STATE GoTo $\overline{i_\opp}$
    % \STATE Cover \w by strategy $TPS\left(\overline{i_{\opp}}\right)$
    
\end{algorithmic}
\caption{Longest To Reach (\ltr)\label{algorithms: Longest-To-Reach}}
\end{algorithm}
}}
%The strategy translates into specific tass
%
%In our case, . In three out of four cases, $i_\opp$ is in a corner. One can see that going to the opposite corner and covering from there using semi-circles is exactly \ltr. An example is shown in \Cref{figures :best known path}. In the third case, where $i_\opp$ in the center, we circle from outside to inside, finishing in the center. 

\begin{figure}[thpb]
    \centering
    \begin{tikzpicture}
\begin{axis}[
        title={\ltr Demonstration},
        ymin=-2, ymax=34,
        xmin=-2, xmax=34,
        width=0.4*\textwidth]
    \addplot[blue,
        quiver={u=\thisrow{u},v=\thisrow{v}},
        -stealth] 
	table 
	{
	x y u v
	32 32 0 -1
	32 31 -1 0
	31 31 0 -1
	31 30 1 0
	32 30 0 -1
	32 29 -2 0
	30 29 0 2
	30 31 -1 0
	29 31 0 -3
	29 28 3 0
	32 28 0 -1
	32 27 -4 0
	28 27 0 4
	28 31 -1 0
	27 31 0 -5
	27 26 5 0
	};
	
	\addplot[blue, dashed,
        quiver={u=\thisrow{u},v=\thisrow{v}},
        -stealth] 
	table 
	{
	x y u v
	25 25 -20 -20
	};
	
	\addplot[blue,
        quiver={u=\thisrow{u},v=\thisrow{v}},
        -stealth] 
	table 
	{
	x y u v
	2 3 0 28
	2 31 -1 0
	1 31 0 -29
	1 2 31 0
	32 2 0 -1
	32 1 -31 0
% 	1 1 0 31 
% 	1 32 
	};
	
	\addplot[red,
        quiver={u=\thisrow{u},v=\thisrow{v}},
        -stealth] 
	table 
	{
	x y u v
	1 32 31 0
	};
	
% 	\draw (50,50) circle (0.1cm);
    \coordinate (io) at (axis cs:0.5,0.5);
    \coordinate (ir) at (axis cs:0.5,31.5);
\end{axis}
\filldraw[fill=blue!80!black,draw=blue!80!black] (io) circle(0.1cm);
\filldraw[fill=green!80!black,draw=blue!80!black] (ir) circle(0.1cm);

\end{tikzpicture}
    \caption{$i_{\rob}$ is the green circle, $i_{\opp}$ is the blue one. The red line indicates the path from $i_\rob$ to the farthest cell from $i_\opp$, and blue indicates the covering of the rest of \w with decreasing LEVEL values}
    \label{figures :best known path}
\end{figure}


\subsection{Simulations and Results}
To test \ltr, we performed several things. First, we ran simplified simulations of \ltr and other strategies, using python code. The world is a grid of size $32\times 32$, and it takes 1 step to travel between adjacent cells (north/south/east/west)%reach from one cell to another.
They are called 'simplified' because no physical constraints were took in consideration (turning time, collisions). Each strategy was averaged over 100 different $S_\opp$ random MST (Minimum Spanning Tree), and we checked 4 different cases for $i_\opp$ ($i_\rob$ is always as $(0,0)$). We compared our strategy with 5 different coverage strategies, all of them are optimal (take exactly $\abs*{\w}$ steps to cover the world), and simulated 30 times each one. %We already know MST and \ltr.
LCP is the opposite of \ltr: it means covering the world starting from $i_\opp$ and maximize the TPS value.  MST is a simple random MST coverage path.
The results are shown in \Cref{figures:strategies averages}. As one can see, in three out of four time, \ltr yields the best results against the other strategies (statistically significant, using Student t-test with p-value $<0.0005$).
Even in the one case where \ltr is only second to optimal, one should look at the huge error margin for the winning strategy and the much lower error margin for \ltr (error bars are standard deviation over the samples).

\begin{figure}[t!]
    \centering
    \begin{tikzpicture}
      \begin{axis}[
      width  = 0.4*\textwidth,
      grid style=dashed,
    %   small,   
      major x tick style = transparent,
      ybar=2*\pgflinewidth,
      bar width=3pt,
      ymajorgrids = true,
      symbolic x coords={ A, B, C, D},
      xticklabels={(0:0)-(0:31),(0:0)-(31:31),(0:0)-(15:15),(0:0)-(0:1)},
      x tick label style={rotate=15,anchor=north, font=\small},
      xtick = data,
      scaled y ticks = false,
      enlarge x limits=0.15,
      ymin=275,
      ymax=685,
      legend cell align=left,
      legend columns=3,
      legend style={at={(0.5,-0.2),/tikz/column 3/.style={
                column sep=5pt,
            }},anchor=north},
  ]
      \addplot[style={fill=white},error bars/.cd, y dir=both, y explicit]
          coordinates {
          (A, 354) +-= (0,53)
          (B,512) +-= (0,37)
          (C,525) +-= (0,115)
          (D, 488) +-= (0,109)
          };

      \addplot[style={fill=black},error bars/.cd, y dir=both, y explicit,error bar style=red]
           coordinates {
          (A, 445) +-= (0,39)
          (B,463) +-= (0,39)
          (C,477) +-= (0,16)
          (D, 468) +-= (0,36)
          };
    
    \addplot[style={fill=red},error bars/.cd, y dir=both, y explicit,error bar style=black]
           coordinates {
          (A, 598) +-= (0,32)
          (B,638) +-= (0,31)
          (C,530) +-= (0,15)
          (D, 593) +-= (0,30)
          };
           
    \addplot[style={fill=blue},error bars/.cd, y dir=both, y explicit,error bar style=black]
           coordinates {
           (A, 465) +-= (0,31)
          (B,544) +-= (0,29)
          (C,554) +-= (0,79)
          (D, 500) +-= (0,50)
          };
    
    \addplot[style={fill=green},error bars/.cd, y dir=both, y explicit,error bar style=black]
           coordinates {
           (A, 373) +-= (0,46)
          (B,487) +-= (0,32)
          (C,454) +-= (0,71)
          (D, 535) +-= (0,38)
          };
    
    \addplot[style={fill=yellow},error bars/.cd, y dir=both, y explicit,error bar style=black]
           coordinates {
           (A, 378) +-= (0,44)
          (B,474) +-= (0,27)
          (C,460) +-= (0,86)
          (D, 524) +-= (0,45)
          };
      \legend{MST, LCP, \ltr, CircVert, NonCircVert, CircHorz}
  \end{axis}
  \end{tikzpicture}
    \caption{Strategies Averages}
    \label{figures:strategies averages}
\end{figure}

We have also examined \ltr in realistic simulations over ROS-GAZEBO. We used standard turtlebots with radius of $0.35$ meters, and the world is of size $11.2\times 11.2$ meters, and can be thought of as $32\times 32$ grid with cells the size of 1 turtlebot. 
%These simulations did take physical constraints into consideration, therefore should have a higher value, we think.
The results are shown in \Cref{figures: ros strategies averages}. As one can see, the results support the ones we got from the simplified simulations.
%All of the results, both in the simplified and physical simulations, are statistically significant, with p-value much lower than $0.05$.

\begin{figure}[t!]
    \centering
    \begin{tikzpicture}
      \begin{axis}[
      small,
      grid style=dashed,
    %   small,   
      width  = 0.4*\textwidth,
      major x tick style = transparent,
      ybar=2*\pgflinewidth,
      bar width=8pt,
      ymajorgrids = true,
      symbolic x coords={ A, B, D},
      xticklabels={(0:0)-(0:31),(0:0)-(31:31),(0:0)-(0:1)},
      x tick label style={rotate=15,anchor=north, font=\small},
      xtick = data,
      scaled y ticks = false,
      enlarge x limits=0.15,
      ymin=275,
      ymax=685,
      legend cell align=left,
      legend columns=3,
      legend style={at={(0.5,-0.2),/tikz/column 3/.style={
                column sep=5pt,
            }},anchor=north},
  ]
      \addplot[style={fill=white},error bars/.cd, y dir=both, y explicit]
          coordinates {
          (A, 381) +-= (0,58)
          (B,532) +-= (0,62)
          (D, 570) +-= (0,64)
          };

      \addplot[style={fill=black},error bars/.cd, y dir=both, y explicit,error bar style=red]
           coordinates {
          (A, 502) +-= (0,67)
          (B, 471) +-= (0,64)
          (D, 462) +-= (0,63)
          };
    
    \addplot[style={fill=red},error bars/.cd, y dir=both, y explicit,error bar style=black]
           coordinates {
          (A, 623) +-= (0,53)
          (B, 634) +-= (0,45)
          (D, 597) +-= (0,64)
          };
           
      \legend{MST, LCP, \ltr}
  \end{axis}
  \end{tikzpicture}
    \caption{ROS based simulations - Strategies Averages}
    \label{figures: ros strategies averages}
\end{figure}

\addtolength{\textheight}{-0.9cm}   % This command serves to balance the column lengths
                                  % on the last page of the document manually. It shortens
                                  % the textheight of the last page by a suitable amount.
                                  % This command does not take effect until the next page
                                  % so it should come on the page before the last. Make
                                  % sure that you do not shorten the textheight too much.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\section*{APPENDIX}

% \section*{ACKNOWLEDGMENT}

% The preferred spelling of the word �acknowledgment� in America is without an �e� after the �g�. Avoid the stilted expression, �One of us (R. B. G.) thanks . . .�  Instead, try �R. B. G. thanks�. Put sponsor acknowledgments in the unnumbered footnote on the first page.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Conclusions and Future Work}
In this paper we presented the competitive coverage problem, in which two robots exist in an environment and compete to be the first to cover cells. We have examined in depth the asymmetric case, in which only one robot is aware it is in a competition with the other, and suggested solutions based on different information models the robot holds on its opponent. We have shown that only having full knowledge on the opponent strategy has a significant impact on the possibility of winning. There are still many directions to pursue in the future, among those examining the symmetric case, proving optimality of the \ltr strategy, and examining an online version of the problem.



\bibliographystyle{abbrv}
\bibliography{SharedParts/refs}

\end{document}